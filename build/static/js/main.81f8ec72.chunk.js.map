{"version":3,"sources":["components/RecommendTrack.js","components/RecommendBtn.js","data/markets.js","components/Login.js","App.js","reportWebVitals.js","index.js"],"names":["RecommendTrack","props","useState","Audio","previewUrl","preview","playing","useEffect","play","pause","className","onMouseOver","e","song","document","getElementById","onMouseOut","id","controls","src","type","style","display","img","url","alt","title","width","artists","RecommendBtn","onClick","recommend","markets","value","label","Login","href","spotifyWebApi","Spotify","App","params","getHashParams","access_token","setLogggedIn","hashParams","r","q","window","location","hash","substring","exec","decodeURIComponent","setAccessToken","artistRes","setArtistRes","tracks","setTracks","danceabilityRange","acousticnessRange","livenessRange","tempoRange","audioFeatures","setAudioFeatures","recommendTracks","setRecommendTracks","marketSelected","setmarketSelected","length","getAudioFeaturesForTracks","then","data","console","log","arr","danceabilityList","map","danceability","acousticnessList","acousticness","livenessList","liveness","tempoList","tempo","Math","min","apply","max","getArtistAudioFeaturesRange","audio_features","getRecommendations","trackIDs","searchPlaylists","market","response","topListExist","playlists","items","owner","display_name","getPlaylistTracks","track","features","i","includes","push","sort","a","b","name","localeCompare","reverse","catch","err","setInput","selectedValue","setSelectedValue","fetch","bind","isMulti","cacheOptions","defaultOptions","getOptionLabel","getOptionValue","loadOptions","inputValue","method","headers","res","json","onInputChange","input","onChange","artist","Promise","resolve","reject","searchArtists","slice","searchTracks","defaultValue","options","undefined","images","album","preview_url","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.81f8ec72.chunk.js","sourcesContent":["import React, {useState, useEffect } from 'react';\nimport ReactPlayer from 'react-player';\n// function useAudio(url){\n//     const [preview] = useState(new Audio(url));\n//     const [playing, setPlaying] = useState(false);\n\n//     const toggle = () => setPlaying(!playing);\n\n//     useEffect(() => {\n//             playing ? preview.play() : preview.pause();\n//         },\n//         [playing]\n//     );\n\n//     useEffect(() => {\n//         preview.addEventListener('ended', () => setPlaying(false));\n//         return () => {\n//             preview.removeEventListener('ended', ()=> setPlaying(false));\n//         };\n//     }, []);\n//     return [playing, toggle];\n// }\n\nfunction RecommendTrack(props) {\n    \n//    const [playing, toggle] = useAudio(props.previewUrl);\n\n    const [preview] = useState(new Audio(props.previewUrl));\n    const [playing, setPlaying] = useState(false);\n\n    const toggle = () => setPlaying(!playing);\n\n    useEffect(() => {\n            playing ? preview.play() : preview.pause();\n        },\n        [playing]\n    );\n\n    function play(song){\n        var currentSong = document.getElementById(song);\n        currentSong.play();\n    }\n\n    function stop(song){\n        var currentSong = document.getElementById(song);\n        currentSong.pause();\n    }\n    // useEffect(() => {\n    //     preview.addEventListener('ended', () => setPlaying(false));\n    //     return () => {\n    //         preview.removeEventListener('ended', ()=> setPlaying(false));\n    //     };\n    // }, []);\n    // onClick={(e)=>{clickHandler(e, \"Hello\")}}\n    return (\n        <div>\n            <div className=\"track-container\">\n            {/* <ReactPlayer url={props.previewUrl} /> */}\n            {props.previewUrl && <div onMouseOver={(e)=>{play(e, \"song\")}} onMouseOut={(e)=>{stop(e, \"song\")}}></div>}\n            <audio id=\"song\" controls=\"controls\" src={props.previewUrl} type=\"audio/mpeg\" style={{display: \"none\"}}></audio>\n            {/* {props.previewUrl && } */}\n            <img className=\"track-img\" src={props.img.url} alt={props.title} style={{ width: 100 }}></img>\n                <div className=\"track-text-container\">\n                    <p className=\"track-text-artist\">{props.artists}</p>\n                    <p className=\"track-text-title\">{props.title}</p>\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default RecommendTrack;","import React from 'react';\n\nconst RecommendBtn = props => {\n    return <button className=\"btn getRecommendBtn\" onClick={props.recommend}>Get recommendation</button>\n}\n\nexport default RecommendBtn;","export const markets = [\n    { value: 'al', label: 'Albania' },\n\n    { value: 'ad', label: 'Andorra' },\n\n    { value: 'au', label: 'Australia' },\n\n    { value: 'by', label: 'Belarus' },\n\n    { value: 'be', label: 'Belgium' },\n\n    { value: 'ba', label: 'Bosnia and Herzegovina' },\n\n    { value: 'bg', label: 'Bulgaria' },\n\n    { value: 'ca', label: 'Canada' },\n\n    { value: 'co', label: 'Colombia' },\n\n    { value: 'hr', label: 'Croatia' },\n\n    { value: 'dk', label: 'Denmark' },\n\n    { value: 'ec', label: 'Ecuador' },\n\n    { value: 'sv', label: 'El Salvador' },\n\n    { value: 'ee', label: 'Estonia' },\n\n    { value: 'fr', label: 'France' },\n\n    { value: 'hn', label: 'Honduras' },\n\n    { value: 'is', label: 'Iceland' },\n\n    { value: 'id', label: 'Indonesia' },\n\n    { value: 'il', label: 'Israel' },\n\n    { value: 'jo', label: 'Jordan' },\n\n    { value: 'xk', label: 'Kosovo' },\n\n    { value: 'lv', label: 'Latvia' },\n\n    { value: 'li', label: 'Liechtenstein' },\n\n    { value: 'lu', label: 'Luxembourg' },\n\n    { value: 'hu', label: 'Magyarorsz√°g' },\n\n    { value: 'my', label: 'Malaysia' },\n\n    { value: 'ma', label: 'Maroc' },\n\n    { value: 'mc', label: 'Monaco' },\n\n    { value: 'mx', label: 'Mexico' },\n\n    { value: 'nz', label: 'New Zealand' },\n\n    { value: 'mk', label: 'North Macedonia' },\n\n    { value: 'om', label: 'Oman' },\n\n    { value: 'pa', label: 'Panama' },\n\n    { value: 'pe', label: 'Peru' },\n\n    { value: 'pl', label: 'Polska' },\n\n    { value: 'qa', label: 'Qatar' },\n\n    { value: 'ro', label: 'Romania' },\n\n    { value: 'sa', label: 'Saudi Arabia' },\n\n    { value: 'rs', label: 'Serbia' },\n\n    { value: 'sk', label: 'Slovakia' },\n\n    { value: 'za', label: 'South Africa' },\n\n    { value: 'se', label: 'Sverige' },\n\n    { value: 'tn', label: 'Tunisie' },\n\n    { value: 'us', label: 'USA' },\n\n    { value: 'ae', label: 'United Arab Emirates' },\n\n    { value: 'uy', label: 'Uruguay' },\n\n    { value: 'vn', label: 'Vietnam' },\n\n    { value: 'cz', label: 'Czech Republic' },\n\n    { value: 'by', label: 'Belarus' },\n\n    { value: 'md', label: 'Moldova' },\n\n    { value: 'il', label: 'Israel' },\n\n    { value: 'ae', label: 'United Arab Emirates' },\n\n    { value: 'dz', label: 'Algeria' },\n\n    { value: 'ma', label: 'Morocco' },\n\n    { value: 'ps', label: 'Palestine' },\n\n    { value: 'lb', label: 'Lebanon' },\n\n    { value: 'th', label: 'Thailand' },\n\n    { value: 'jp', label: 'Japan' },\n\n    { value: 'hk', label: 'Hong Kong' },\n]\n\nexport default markets;","import React from 'react';\n\nfunction Login(){\n    return (\n        <>\n            <a href='/spotify_login'>\n                <button className=\"btn LoginBtn\">Login With Spotify!</button>\n            </a>\n        </>\n    );\n}\n\nexport default Login;\n","import React, {useState, useEffect} from 'react';\nimport './App.css';\nimport Spotify from 'spotify-web-api-js';\nimport RecommendTrack from './components/RecommendTrack';\nimport RecommendBtn from './components/RecommendBtn';\nimport Select from 'react-select';\nimport AsyncSelect from 'react-select/async';\nimport markets from './data/markets';\nimport Login from './components/Login';\n\nconst spotifyWebApi = new Spotify();\n\nfunction App() {\n  const params = getHashParams();\n  const [loggedIn, setLogggedIn] = useState(\n    params.access_token ? true : false\n  );\n\n  if (params.access_token){\n    spotifyWebApi.setAccessToken(params.access_token);\n  };\n\n  function getHashParams() {\n    var hashParams = {};\n    var e, r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    while ( e = r.exec(q)) {\n       hashParams[e[1]] = decodeURIComponent(e[2]);\n    }\n    return hashParams;\n  }\n\n  const [artistRes, setArtistRes] = useState([]);\n\n  const [tracks, setTracks] = useState([]);\n\n  const [audioFeatures, setAudioFeatures] = useState({\n    danceabilityRange: [0,0],\n    acousticnessRange: [0,0],\n    livenessRange: [0,0],\n    tempoRange: [0,0]\n  })\n\n  const [recommendTracks, setRecommendTracks] = useState([]);\n\n  const [marketSelected, setmarketSelected] = useState(null);\n\n  // if 'tracks' is updated, get audio features of the tracks\n  useEffect(()=>{\n    if (tracks.length !== 0){\n        spotifyWebApi.getAudioFeaturesForTracks(tracks)\n        .then(data=>{\n          console.log(\"Artist's track features\");\n          console.log(data);\n          getArtistAudioFeaturesRange(data.audio_features);\n        })\n    }\n    if (marketSelected){\n      getRecommendations();\n    }\n  }, [tracks])\n\n  useEffect(()=>{\n    const params = getHashParams();\n    if (params.access_token){\n        setLogggedIn(true);\n    } else {\n      setLogggedIn(false);\n    }\n  }, [])\n\n  const [genres, setGenres] = useState([]);\n\n  function findArtists(artist){\n    return new Promise((resolve, reject)=>{\n      spotifyWebApi.searchArtists(artist)\n      .then((response) => {\n        console.log(response.artists.items);\n        console.log(response);\n        setArtistRes(response.artists.items.slice(0,1));\n        // console.log(response.artists.items[0].genres);\n        // setGenres(response.artists.items[0].genres);\n        spotifyWebApi.searchTracks(`artist:${artist}`)\n        .then((response) => {\n          setTracks(response.tracks.items.map(e=>e.id));\n          resolve()\n        })\n        .catch(err=>{\n          console.log(\"track: \" + err);\n          reject()\n        })\n      })\n      .catch(err=>{\n        console.log(err);\n        reject()\n      })\n    })\n  }\n\n  function getRecommendations(){\n    var trackIDs = [];\n    var tracks = [];\n    var recommend = [];\n    spotifyWebApi.searchPlaylists(`top 50 ${marketSelected.label}`, { market: marketSelected.value })\n    .then(response => {\n      console.log(`${marketSelected.label} top 50`);\n      console.log(response);\n      var topListExist = false;\n      for (let e of response.playlists.items) {\n\n        if (e.owner.display_name === \"spotifycharts\" || e.owner.display_name === \"Spotify\"){       \n          topListExist = true;\n          spotifyWebApi.getPlaylistTracks(e.id)\n          .then(data=>{\n            \n            tracks = data.items;\n            // console.log(tracks[0]);\n            // get audio features of the tracks\n            trackIDs = data.items.map(e=>e.track.id);\n            // console.log(trackIDs);\n            spotifyWebApi.getAudioFeaturesForTracks(trackIDs)\n            .then(features=>{\n              console.log(\"top 50's track features\");\n              console.log(features);\n              \n              for(var i = 0; i < features.audio_features.length; i++){\n                // if track's each audio feature is within the range of selected artists,\n                // add it to the recommendation list (check if it's already added as well)\n                if ( (features.audio_features[i].danceability >= audioFeatures.danceabilityRange[0] && \n                    features.audio_features[i].danceability <= audioFeatures.danceabilityRange[1]) &&\n                    (features.audio_features[i].acousticness >= audioFeatures.acousticnessRange[0] && \n                    features.audio_features[i].acousticness <= audioFeatures.acousticnessRange[1]) &&\n                    (features.audio_features[i].liveness >= audioFeatures.livenessRange[0] && \n                    features.audio_features[i].liveness <= audioFeatures.livenessRange[1]) &&\n                    (features.audio_features[i].tempo >= audioFeatures.tempoRange[0] && \n                    features.audio_features[i].tempo <= audioFeatures.tempoRange[1]) && \n                    !recommend.includes(tracks[i])) {\n                      recommend.push(tracks[i]);\n                }\n              }\n              \n              console.log(recommend);\n              console.log(recommend.length);\n              recommend.sort((a,b)=>a.track.name.localeCompare(b.track.name));\n              recommend.reverse();\n              setRecommendTracks(recommend);\n            })\n          })\n        };\n      }\n      // if there's no top list, set recommendtracks to empty\n      if (!topListExist){\n        var noTopList = [\"no top list\"];\n        setRecommendTracks(noTopList);\n      }\n      console.log(\"artist feature range\");\n      console.log(audioFeatures);\n    \n    }).catch(err=>{\n      console.log(err);\n    })\n  }\n\n  function getArtistAudioFeaturesRange(arr){\n    var danceabilityList = arr.map(e=>e.danceability);\n    var acousticnessList = arr.map(e=>e.acousticness);\n    var livenessList = arr.map(e=>e.liveness);\n    var tempoList = arr.map(e=>e.tempo);\n    console.log(\"artist features arr\");\n    console.log(arr);\n    setAudioFeatures({\n      danceabilityRange: [Math.min.apply(null, danceabilityList), Math.max.apply(null, danceabilityList)],\n      acousticnessRange: [Math.min.apply(null, acousticnessList), Math.max.apply(null, acousticnessList)],\n      livenessRange: [Math.min.apply(null, livenessList), Math.max.apply(null, livenessList)],\n      tempoRange: [Math.min.apply(null, tempoList), Math.max.apply(null, tempoList)]\n    });\n  } \n\n  const [input, setInput] = useState('');\n  const [selectedValue, setSelectedValue] = useState(null);\n\n  const handleInputChange = input => {\n    setInput(input);\n  };\n\n  const handleChange = value => {\n    // console.log(value);\n    setSelectedValue(value);\n    if (value){\n      findArtists(value[0].name)\n    }\n  }\n  const fetch = window.fetch.bind(window);\n   // load options using API call\n   const loadOptions = (inputValue) => {    \n    return fetch(`https://api.spotify.com/v1/search/?q=${inputValue}&type=artist`, {\n      method: 'GET',\n      headers: { 'Authorization': 'Bearer ' + params.access_token,\n      'Content-Type': 'application/x-www-form-urlencoded'}\n    }).then(res=>res.json())\n      .then(({artists})=>{\n        return (artists.items.map(({id, name})=>({id: id, name: name})))\n    }).catch(err=>console.log(err))\n  }\n\n    return (\n    \n      <div className=\"App\">\n        <Login />\n  \n        {/* <pre>Input value: \"{input}\" </pre> */}\n        <AsyncSelect \n          isMulti\n          cacheOptions \n          defaultOptions \n          value={selectedValue} \n          getOptionLabel={e=>e.name}\n          getOptionValue={e=>e.id}\n          loadOptions={loadOptions}\n          onInputChange={handleInputChange}\n          onChange={handleChange} \n          className=\"basic-multi-select\"\n        />\n  \n        <Select \n          defaultValue={marketSelected}\n          onChange={setmarketSelected}\n          options={markets}\n        />  \n        <div>\n          {/* modify: artist is one */}\n          {artistRes !== undefined ? \n            (artistRes.map(e => <div>\n                                {e.name} {e.images[0] ? <img src={e.images[0].url} alt={e.name} style={{width: 100}}></img> : \"\"}\n                          </div>)) \n          : \"no artist found\"}\n          \n        </div>\n        <RecommendBtn recommend={getRecommendations} />\n        {recommendTracks.length !== 0 && recommendTracks[0] === \"no top list\" ? <p>No Top List For This Market</p> :\n        (recommendTracks.length !== 0) &&  \n        recommendTracks.map(track => (\n              <RecommendTrack\n                key={track.track.id}\n                artists={track.track.artists[0].name}\n                img={track.track.album.images[0]}\n                title={track.track.name}\n                previewUrl={track.track.preview_url}\n              />\n            ))}\n      </div>\n    );      \n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}